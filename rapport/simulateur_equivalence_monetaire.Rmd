---
output: 
    html_document:
        self_contained: true
        css: styles_simulateur.css
runtime: shiny
---


# Simulateur d'√©quivalences mon√©taires {.tabset}

<br>

## <FONT COLOR="#B4B1B1">Lien social</FONT>

```{r, echo=FALSE}
library(shiny)

fluidPage(
  fluidRow(
    # Colonne gauche (Param√®tres)
    column(
      width = 6,  # 50% de largeur
      h3("Param√®tres"),
      br(),
      numericInput(
        inputId = 'temps_discu',
        label = "Temps pass√© par semaine (en heures)",
        value = 2.5,
        step = 0.1
      ),
      numericInput(
        inputId = 'nb_semaines',
        label = "Nombre de semaines travaill√©es",
        value = 47,
        step = 1
      ),
      numericInput(
        inputId = 'taux_horaire',
        label = "Taux horaire d'un salaire charg√©",
        value = 53,
        step = 1
      ),
      numericInput(
        inputId = 'nb_commerces',
        label = "Nombre total de commerces √† l'√©chelle souhait√©e (ex : la ville)",
        value = 3259,
        step = 100
      ),
      numericInput(
        inputId = 'super_co',
        label = 'Taux de "super commer√ßant¬∑es"',
        value = 0.2,
        step = 0.1
      )
    ),
    
    # Colonne droite (Calculs)
    column(
      width = 6,  # 50% de largeur
      h3("Calcul"),
      br(),
      div(
        style = "border: 0px; padding: 20px; border-radius: 15px; background-color: #e8e8e8;",
        HTML("üîé <b>B√©n√©fice d'un commerce</b><br><i>Temps pass√©</i> * <i>Nombre de semaines travaill√©es</i> * <i>taux horaire</i>")
      ),
      div(style = "border-left: 4px solid #ccc; padding-left: 10px; margin-top: 10px;",
          textOutput("benefice_commerce")),
      br(),
      br(),
      br(),
      div(
        style = "border: 0px; padding: 20px; border-radius: 15px; background-color: #e8e8e8;",
        HTML("üîé <b>B√©n√©fice √† l'√©chelle d'une rue/d'un quartier</b><br><i>B√©n√©fice d'un commerce</i> * <i>nombre total de commerces</i> * <i>taux de 'super commer√ßant¬∑es'</i>")
      ),
      div(style = "border-left: 4px solid #ccc; padding-left: 10px; margin-top: 10px;",
          textOutput("benefice_quartier"))
    )
  )
)
```

```{r, echo=FALSE}
# Serveur Shiny pour calculer les b√©n√©fices
output$benefice_commerce <- renderText({
  result <- input$temps_discu * input$nb_semaines * input$taux_horaire
  paste(
    input$temps_discu, "*", input$nb_semaines, "*", input$taux_horaire,
    "=", format(as.integer(result), nsmall = 1, big.mark = " "), "‚Ç¨"
  )
})

output$benefice_quartier <- renderText({
  result_commerce <- input$temps_discu * input$nb_semaines * input$taux_horaire
  result_quartier <- result_commerce * input$nb_commerces * input$super_co
  paste(
    as.integer(result_commerce), "*", input$nb_commerces, "*", input$super_co,
    "=", format(as.integer(result_quartier), nsmall = 1, big.mark = " "), "‚Ç¨"
  )
})
```

## <FONT COLOR="#004654">Solidarit√©s</FONT>


```{r, echo=FALSE}
fluidPage(
  fluidRow(
    # Colonne gauche (Param√®tres)
    column(
      width = 6,  # 50% de largeur
      h3("Param√®tres"),
      br(),
      numericInput(
        inputId = 'temps_discu2',
        label = "Temps pass√© par semaine (en heures)",
        value = 0.5,
        step = 0.1
      ),
      numericInput(
        inputId = 'nb_semaines2',
        label = "Nombre de semaines travaill√©es",
        value = 47,
        step = 1
      ),
      numericInput(
        inputId = 'taux_horaire2',
        label = "Taux horaire d'un salaire charg√©",
        value = 53,
        step = 1
      ),
      numericInput(
        inputId = 'dons',
        label = "Nombre de dons par semaine",
        value = 2,
        step = 1
      ),
      numericInput(
        inputId = 'cout_don',
        label = "Co√ªt du don",
        value = 0.5,
        step = 0.1
      ),
      numericInput(
        inputId = 'nb_commerces2',
        label = "Nombre total de commerces √† l'√©chelle souhait√©e (ex : la ville)",
        value = 3259,
        step = 100
      ),
      numericInput(
        inputId = 'super_co2',
        label = 'Taux de "super commer√ßant¬∑es"',
        value = 0.2,
        step = 0.1
      )
    ),
    
    # Colonne droite (Calculs)
    column(
      width = 6,  # 50% de largeur
      h3("Calcul"),
      br(),
      div(
        style = "border: 0px; padding: 20px; border-radius: 15px; background-color: #e8e8e8;",
        HTML("üîé <b>B√©n√©fice d'un commerce</b><br><i>(temps pass√© par semaine (en heures)</i> * <i>nombre de semaines travaill√©es par an</i> * <i>co√ªt horaire)</i> + <i>(nombre de dons</i> * <i>nombre de semaines travaill√©es par an</i> * <i>co√ªt du don)</i>")
      ),
      div(style = "border-left: 4px solid #ccc; padding-left: 10px; margin-top: 10px;",
          textOutput("benefice_commerce2")),
      br(),
      br(),
      br(),
      div(
        style = "border: 0px; padding: 20px; border-radius: 15px; background-color: #e8e8e8;",
        HTML("üîé <b>B√©n√©fice √† l'√©chelle d'une rue/d'un quartier</b><br><i>B√©n√©fice d'un commerce</i> * <i>nombre total de commerces</i> * <i>taux de 'super commer√ßant¬∑es'</i>")
      ),
      div(style = "border-left: 4px solid #ccc; padding-left: 10px; margin-top: 10px;",
          textOutput("benefice_quartier2"))
    )
  )
)
```

```{r, echo=FALSE}
# Serveur Shiny pour calculer les b√©n√©fices
output$benefice_commerce2 <- renderText({
  result2 <- (input$temps_discu2 * input$nb_semaines2 * input$taux_horaire2) + (input$dons * input$cout_don * input$nb_semaines2)
  paste(
    "(", input$temps_discu2, "*", input$nb_semaines2, "*", input$taux_horaire2, ") + (",
    input$dons, "*", input$cout_don, "*", input$nb_semaines2, ")",
    "=", format(as.integer(result2), nsmall = 1, big.mark = " "), "‚Ç¨"
  )
})

output$benefice_quartier2 <- renderText({
  result_commerce2 <- (input$temps_discu2 * input$nb_semaines2 * input$taux_horaire2) + (input$dons * input$cout_don * input$nb_semaines2)
  result_quartier2 <- result_commerce2 * input$nb_commerces2 * input$super_co2
  paste(
    as.integer(result_commerce2), "*", input$nb_commerces2, "*", input$super_co2,
    "=", format(as.integer(result_quartier2), nsmall = 1, big.mark = " "), "‚Ç¨"
  )
})
```

## <FONT COLOR="#0097B2">Vie de quartier</FONT>

```{r, echo=FALSE}
fluidPage(
  fluidRow(
    # Colonne gauche (Param√®tres)
    column(
      width = 6,  # 50% de largeur
      h3("Param√®tres"),
      br(),
      numericInput(
        inputId = 'freq_activites',
        label = "Fr√©quence des activit√©s (par semaine)",
        value = 3,
        step = 1
      ),
      numericInput(
        inputId = 'nb_semaines3',
        label = "Nombre de semaines travaill√©es",
        value = 47,
        step = 1
      ),
      numericInput(
        inputId = 'cout_materiel',
        label = "Co√ªt par activit√© (en ‚Ç¨)",
        value = 15,
        step = 1
      ),
      numericInput(
        inputId = 'nb_participants',
        label = "Nombre moyen de participants par activit√©",
        value = 10,
        step = 1
      ),
      numericInput(
        inputId = 'nb_commerces3',
        label = "Nombre total de commerces √† l'√©chelle souhait√©e (ex : la ville)",
        value = 3259,
        step = 100
      ),
      numericInput(
        inputId = 'super_co3',
        label = 'Taux de "super commer√ßant¬∑es"',
        value = 0.2,
        step = 0.1
      )
    ),
    
    # Colonne droite (Calculs)
    column(
      width = 6,  # 50% de largeur
      h3("Calcul"),
      br(),
      div(
        style = "border: 0px; padding: 20px; border-radius: 15px; background-color: #e8e8e8;",
        HTML("üîé <b>B√©n√©fice d'un commerce</b><br><i>(fr√©quence des activit√©s</i> * <i>nombre de semaines travaill√©es</i> * <i>co√ªt par activit√©</i> * <i>nombre moyen de participants)</i>")
      ),
      div(style = "border-left: 4px solid #ccc; padding-left: 10px; margin-top: 10px;",
          textOutput("benefice_commerce3")),
      br(),
      br(),
      br(),
      div(
        style = "border: 0px; padding: 20px; border-radius: 15px; background-color: #e8e8e8;",
        HTML("üîé <b>B√©n√©fice √† l'√©chelle d'une rue/d'un quartier</b><br><i>B√©n√©fice d'un commerce</i> * <i>nombre total de commerces</i> * <i>taux de 'super commer√ßant¬∑es'</i>")
      ),
      div(style = "border-left: 4px solid #ccc; padding-left: 10px; margin-top: 10px;",
          textOutput("benefice_quartier3"))
    )
  )
)
```

```{r, echo=FALSE}
# Serveur Shiny pour calculer les b√©n√©fices
output$benefice_commerce3 <- renderText({
  result3 <- input$freq_activites * input$nb_semaines3 * input$cout_materiel * input$nb_participants
  paste(
    "(", input$freq_activites, "*", input$nb_semaines3, "*", input$cout_materiel, "*", input$nb_participants, ")",
    "=", format(as.integer(result3), nsmall = 1, big.mark = " "), "‚Ç¨"
  )
})

output$benefice_quartier3 <- renderText({
  result_commerce3 <- input$freq_activites * input$nb_semaines3 * input$cout_materiel * input$nb_participants
  result_quartier3 <- result_commerce3 * input$nb_commerces3 * input$super_co3
  paste(
    as.integer(result_commerce3), "*", input$nb_commerces3, "*", input$super_co3,
    "=", format(as.integer(result_quartier3), nsmall = 1, big.mark = " "), "‚Ç¨"
  )
})
```

